<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <!-- Adyen CSS from TEST environment (change to https://checkoutshopper-live.cdn... for production)-->
  <link rel="stylesheet"
        href="https://checkoutshopper-live.cdn.adyen.com/checkoutshopper/sdk/6.25.1/adyen.css"
        integrity="sha384-TqsUArVcaNhMj9GdL9EJx9QTEcuL6ozA/hqIDJqoj/qDT/FZqjnUWbvMYPVuebMl"
        crossorigin="anonymous">

  <!-- Adyen JS from TEST environment (change to https://checkoutshopper-live.cdn... for production)-->
  <script src="https://checkoutshopper-live.cdn.adyen.com/checkoutshopper/sdk/6.25.1/adyen.js"
          integrity="sha384-baZefgr0+MsmvaL/UdoKcOym2+Snxf0GBCwopMGahl/M9hHul1ty2f3fIb2SG2/5"
          crossorigin="anonymous"></script>

  <link rel="stylesheet" href="/css/application.css">
  
  <!-- Error handling utilities -->
  <script src="/js/shared/errorHandler.js"></script>
  <!-- Shared payment handlers -->
  <script src="/js/shared/paymentHandlers.js"></script>
  <!-- Countries data -->
  <script src="/js/countries.js"></script>
  <!-- Country picker functionality -->
  <script src="/js/country-picker.js"></script>

  <title>Checkout Demo</title>
</head>

<body>
  <div class="page-wrapper">
    <header id="header">
      <div class="header-content">
        <div class="header-left">
          <a href="/" class="logo-link">
            <img src="/images/adyen-demo-logo.svg" alt="Adyen Demo">
          </a>
        </div>
<div class="header-right">
  <!-- Dropdown test data & tools -->
  <div class="header-tools">
    <button class="header-tools-toggle" type="button">
      <span>Test data &amp; tools</span>
      <svg class="header-tools-chevron" width="14" height="14" viewBox="0 0 24 24" fill="none"
           stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="6 9 12 15 18 9"></polyline>
      </svg>
    </button>

    <div class="header-tools-menu">
      <a class="header-tools-item"
         href="https://chromewebstore.google.com/detail/adyen-test-cards/icllkfleeahmemjgoibajcmeoehkeoag"
         target="_blank" rel="noopener noreferrer">
        Card dataset (Chrome extension)
      </a>
      <a class="header-tools-item"
         href="https://docs.adyen.com/development-resources/test-cards-and-credentials/test-card-numbers"
         target="_blank" rel="noopener noreferrer">
        Card dataset (Adyen docs)
      </a>
      <a class="header-tools-item"
         href="https://docs.adyen.com/development-resources/test-cards-and-credentials/alternative-payment-method-credentials"
         target="_blank" rel="noopener noreferrer">
        Alt. payment dataset (Adyen docs)
      </a>
      <a class="header-tools-item"
         href="https://docs.klarna.com/resources/developer-tools/sample-data/sample-customer-data/#all-countries"
         target="_blank" rel="noopener noreferrer">
        Klarna dataset (phone numbers)
      </a>
    </div>
  </div>

  <!-- Bouton docs inchangé -->
  <a href="https://docs.adyen.com"
     target="_blank"
     rel="noopener noreferrer"
     class="docs-button">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2"
         stroke-linecap="round" stroke-linejoin="round">
      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
      <polyline points="14,2 14,8 20,8"></polyline>
      <line x1="16" y1="13" x2="8" y2="13"></line>
      <line x1="16" y1="17" x2="8" y2="17"></line>
      <polyline points="10,9 9,9 8,9"></polyline>
    </svg>
    Documentation
  </a>
</div>
        
      </div>
    </header>

    <main class="main-content">
      <div class="main-container">
        {{{body}}}
      </div>
    </main>
    
    {{!-- Footer with conditional country picker --}}
    <footer class="main-footer {{#if showCountrySelector}}has-country-selector{{/if}}">
      <div class="footer-container">
        <div class="footer-content">
          <div class="footer-left">
            <span class="copyright">©2025 Adyen Devs</span>
          </div>
          <div class="footer-right" id="countrySelectorContainer" {{#unless showCountrySelector}}style="display: none;"{{/unless}}>
            <div class="country-picker" id="countryPicker">
              <img src="https://ca-test.adyen.com/ca/adl/img/flags/nl.svg" alt="Netherlands" class="country-flag" id="countryFlag">
              <span class="country-name" id="countryName">Netherlands</span>
              <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                <path d="M1 1.5L6 6.5L11 1.5" stroke="#6B7280" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <div class="country-dropdown" id="countryDropdown">
                <!-- Countries will be populated by JavaScript -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>
  </div>
</body>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const tools = document.querySelector('.header-tools');
    if (!tools) return;

    const toggle = tools.querySelector('.header-tools-toggle');

    toggle.addEventListener('click', function (e) {
      e.stopPropagation();
      tools.classList.toggle('is-open');
    });

    document.addEventListener('click', function (e) {
      if (!tools.contains(e.target)) {
        tools.classList.remove('is-open');
      }
    });
  });
</script>

</html>